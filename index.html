<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–í –æ–∂–∏–¥–∞–Ω–∏–∏ –æ—Ç–ø—É—Å–∫–∞</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-blur: 6px;
      --glass-bg: rgba(255,255,255,.14);
      --glass-stroke: rgba(255,255,255,.3);
      --accent: #00d4ff;
      --accent-2: #00ffa3;
      --text: #0b1220;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: #0b1220;
    }
    .bg{
      position: fixed;
      inset: 0;
      z-index: -2;
      background-position:center;
      background-size:cover;
      background-attachment: fixed;
      transition: background-image .6s ease-in-out;
      filter: saturate(1.05) contrast(1.05);
    }
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(80% 60% at 50% 20%, rgba(255,255,255,.18) 0%, rgba(255,255,255,.05) 40%, rgba(0,0,0,.55) 100%),
                  linear-gradient(180deg, rgba(0,0,0,.05) 0%, rgba(0,0,0,.55) 100%);
    }
    .noise{position:fixed; inset:0; z-index:-1; opacity:.04; pointer-events:none; background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".6"/></svg>'); mix-blend-mode:overlay}

    .wrap{min-height:100dvh; display:grid; place-items:center; padding:120px 20px 40px}
    .card{
      width:min(980px, 96vw);
      padding:30px;
      border-radius:28px;
      background: linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,.12));
      border:1px solid var(--glass-stroke);
      box-shadow: 0 20px 80px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.25);
      backdrop-filter: blur(calc(var(--bg-blur) + 5px));
      -webkit-backdrop-filter: blur(calc(var(--bg-blur) + 5px));
    }
    h1{margin:0 0 8px; font-size: clamp(28px, 6vw, 62px); line-height:1.05; letter-spacing: -.5px}
    .sub{font-size: clamp(14px, 2.5vw, 18px); opacity:.9; margin-bottom:20px}

    .timer-box{display:grid; gap:18px; align-items:center; grid-template-columns: 1fr}
    .meta{display:flex; flex-wrap:wrap; gap:12px; align-items:center; font-size:14px}
    .chip{padding:8px 12px; border-radius:999px; background: rgba(255,255,255,.4); border:1px solid var(--glass-stroke)}

    .controls{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .btn{appearance:none; border:0; cursor:pointer; padding:12px 16px; border-radius:12px; font-weight:600; background: linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow: 0 10px 26px rgba(0, 212, 255, .35)}
    .btn-ghost{background: rgba(255,255,255,.5); border:1px solid var(--glass-stroke); box-shadow:none}

    .sections{display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:16px; margin-top:24px}
    .sec{padding:18px; border-radius:18px; background: rgba(255,255,255,.5); border:1px solid var(--glass-stroke)}
    .sec h3{margin:0 0 8px}

    footer{margin-top:28px; text-align:center; font-size:12px; opacity:.8}
    .timer-embed{min-height:120px; display:grid; place-items:center; border-radius:16px; border:1px dashed rgba(255,255,255,.45); background: rgba(255,255,255,.35)}

    @media (min-width: 880px){ .timer-box{grid-template-columns: 1.2fr .8fr} }
  </style>
</head>
<body>
  <!-- –§–æ–Ω -->
  <div id="bg" class="bg" role="img" aria-label="–§–æ–Ω —Å –≤–∏–¥–æ–º –æ—Ç–ø—É—Å–∫–∞"></div>
  <div class="noise"></div>

  <main class="wrap">
    <section class="card" aria-labelledby="title">
      <h1 id="title">–û—Ç–ø—É—Å–∫ —É–∂–µ –±–ª–∏–∑–∫–æ ‚úàÔ∏èüèùÔ∏è</h1>
      <p class="sub">–û—Ç—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–Ω–∏ –¥–æ —Å—Ç–∞—Ä—Ç–∞ ‚Äî —Ä–∞—Å—Å–ª–∞–±—å—Å—è, –≤–¥–æ—Ö–Ω–∏ –≥–ª—É–±–∂–µ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å —à—É–º –≤–æ–ª–Ω. –¢–∞–π–º–µ—Ä –Ω–∏–∂–µ –≤—Å—ë –ø–æ–¥—Å–∫–∞–∂–µ—Ç.</p>

      <div class="timer-box">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –º–µ—Ç–∞ + –ø–ª–∞–Ω—ã -->
        <div>
          <div class="meta" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–µ–∑–¥–∫–µ">
            <span class="chip">–ú–∞—Ä—à—Ä—É—Ç: –ö—Ä–∏—Å—Ç–∞–ª –≤–æ—Ç–µ—Ä –ª–æ—Ç–µ—Ä</span>
            <span class="chip">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º üîÜ</span>
            <span class="chip">–ü–ª–µ–π–ª–∏—Å—Ç: chill & deep house</span>
          </div>

          <div class="sections" aria-label="–ü–ª–∞–Ω—ã –Ω–∞ –æ—Ç–ø—É—Å–∫">
            <article class="sec"><h3>–†–∞—Å—Å–ª–∞–±–æ–Ω</h3><p>–ü–ª—è–∂, –º–æ—Ä–µ, —Å–ª–∞–¥–∫–∏–π —Å–æ–Ω –∏ –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ.</p></article>
            <article class="sec"><h3>–î–≤–∏–∂</h3><p>–ì–æ—Ä—è—á–∏–π —Å–µ–∫—Å, –≤–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ –∏ —Ñ–æ—Ç–æ –Ω–∞ –∑–∞–∫–∞—Ç–µ.</p></article>
            <article class="sec"><h3>–í–∫—É—Å–Ω–æ</h3><p>–ú–µ—Å—Ç–Ω–∞—è –∫—É—Ö–Ω—è, —Å–≤–µ–∂–∏–µ —Ñ—Ä—É–∫—Ç—ã –∏ –≤–∫—É—Å–Ω—ã–π –∫–æ—Ñ–µ.</p></article>
            <article class="sec"><h3>–î–∑–µ–Ω</h3><p>–ú–∏–Ω–∏-–¥–µ—Ç–æ–∫—Å –æ—Ç —á–∞—Ç–æ–≤ –∏ –∑–∞–¥–∞—á ‚Äî —Ç–æ–ª—å–∫–æ —Ç—ã, —è –∏ –º–æ—Ä–µ.</p></article>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç–∞–π–º–µ—Ä + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π -->
        <div>
          <div class="timer-embed" aria-live="polite" aria-label="–¢–∞–π–º–µ—Ä –¥–æ –æ—Ç–ø—É—Å–∫–∞">
            <script src="//megatimer.ru/get/ea650308371fe7b51c631392344e31f2.js"></script>
          </div>
          <div class="controls">
            <button id="setBgToday" class="btn" type="button">–°–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω ¬´—Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è¬ª</button>
            <!-- –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π iframe —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º –º—É–∑—ã–∫–∏ -->
          </div>
          <iframe src="https://archive.org/embed/soundcloud-632634339" 
        width="500" height="30" 
        frameborder="0" 
        allow="autoplay" 
        webkitallowfullscreen="true" 
        mozallowfullscreen="true" 
        allowfullscreen>
</iframe>
        </div>
        
      </div>
      <footer>
        –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ –æ—Ç–¥—ã—Ö—É ¬∑ –û–±–Ω–æ–≤–∏ —Ñ–æ–Ω –∏ –≤–∫–ª—é—á–∏ –º—É–∑—ã–∫—É –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
      </footer>
    </section>
  </main>

  <script>
    // –§–æ–Ω—ã
    const backgrounds = [
      'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1920&q=80',
      'https://images.unsplash.com/photo-1500375592092-40eb2168fd21?auto=format&fit=crop&w=1920&q=80',
      'https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1920&q=80',
      'https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1920&q=80',
      'https://images.unsplash.com/photo-1493558103817-58b2924bce98?auto=format&fit=crop&w=1920&q=80'
    ];

    const bgEl = document.getElementById('bg');
    const applyBackground = (url) => { bgEl.style.backgroundImage = `url(${url})`; };
    applyBackground(backgrounds[0]);

    document.getElementById('setBgToday').addEventListener('click', () => {
      const hour = new Date().getHours();
      const pick = hour >= 5 && hour <= 11 ? 2 : hour >= 12 && hour <= 16 ? 0 : hour >= 17 && hour <= 20 ? 3 : 4;
      applyBackground(backgrounds[pick]);
    });

    // –ú—É–∑—ã–∫–∞: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–ª–∏—Ç–∏–∫ –±—Ä–∞—É–∑–µ—Ä–∞
    const audioEl = document.getElementById('bgAudio');
    const toggleBtn = document.getElementById('musicToggle');
    const vol = document.getElementById('volume');

    function setUIPlaying(on){ toggleBtn.textContent = on ? '‚è∏ –ü–∞—É–∑–∞' : '‚ñ∂ –ú—É–∑—ã–∫–∞'; }
    async function tryPlay(){
      try { await audioEl.play(); setUIPlaying(true); }
      catch(e){ /* –ê–≤—Ç–æ–ø–ª–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî —Å—Ç–∞—Ä—Ç—É–µ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∂–µ—Å—Ç–µ */ }
    }

    if (audioEl && toggleBtn && vol){
      audioEl.volume = parseFloat(vol.value);
      // 1) –ü–æ–ø—ã—Ç–∫–∞ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      window.addEventListener('load', tryPlay);
      // 2) –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–∫–∏ –≤ —Ñ–æ–∫—É—Å
      document.addEventListener('visibilitychange', () => { if (!document.hidden) tryPlay(); });
      // 3) –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
      const resume = async () => { await tryPlay(); };
      document.addEventListener('click', resume, { once:true });
      document.addEventListener('touchstart', resume, { once:true });
      // –ö–Ω–æ–ø–∫–∞
      toggleBtn.addEventListener('click', async () => {
        if (audioEl.paused) { await tryPlay(); }
        else { audioEl.pause(); setUIPlaying(false); }
      });
      vol.addEventListener('input', e => { audioEl.volume = parseFloat(e.target.value); });
    }
  </script>
</body>
</html>
